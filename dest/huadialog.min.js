!(function(){var b=function(c){var c=$.extend(b.defaultOptions,c);return new b.create(c)};if(typeof define==="function"&&(define.amd||define.cmd)){define("huadialog",[],function(){return b})}b.alert=function(d,f,e){var c={};if(typeof d==="object"){c=d}else{c.string=d;c.isLocked=f;c.zIndex=e}c.type="alert";b.express(c)};b.confirm=function(d,e,f,h,g){var c={};if(typeof d==="object"){c=d}else{c.string=d;c.ok=e;c.cancel=f;c.isLocked=h;c.zIndex=g}c.type="confirm";b.express(c)};b.prompt=function(d,e,f,h,g){var c={};if(typeof d==="object"){c=d}else{c.string=d;c.ok=e;c.cancel=f;c.defaultValue=defaultValue;c.isLocked=h;c.zIndex=g}c.type="prompt";b.express(c)};b.defaultOptions={title:"title",content:"&nbsp;",width:"auto",height:"auto",backdropBackground:"#000",backdropOpacity:"0.3",locked:false,statusbar:"",okValue:"确定",cancelValue:"取消",closeBtn:true,zIndex:1024,innderHTML:'<div data-hua="dialog" class="huadialog"><table data-hua="dialog-table" class="huadialog-table"><tr><td data-hua="dialog-header" class="huadialog-header"><button data-hua="dialog-close" class="huadialog-close">&#215;</button><div data-hua="dialog-title" class="huadialog-title">&nbsp;</div></td></tr><tr><td data-hua="dialog-body" class="huadialog-body"><div data-hua="dialog-content" class="huadialog-content"></div></td></tr><tr><td data-hua="dialog-footer" class="huadialog-footer"><div data-hua="dialog-status" class="huadialog-status"></div><div data-hua="dialog-buttons" class="huadialog-buttons"><button data-hua="dialog-ok" class="huadialog-buttons-ok"></button><button data-hua="dialog-cancel"></button></div></td></tr></table></div>'};b.express=function(i){var f=b.defaultOptions,e,h,c,g,j;c=function(){var l=($(window).height()-e.height())/2;var k=($(window).width()-e.width())/2;e.css({top:l>0?l:0+"px",left:k>0?k:0+"px"})};j=function(k){return typeof k=="string"?e.find("[data-hua=dialog-"+k+"]"):e.find("[data-hua=dialog]")};e=$("<div>").css({position:"absolute","z-index":(i.zIndex||1024)+1}).html(f.innderHTML).appendTo("body");if(i.isLocked!==false){h=$("<div>").addClass("huadialog-backbox").css({"z-index":(i.zIndex||1024)}).appendTo("body").show()}if(i.type!=="prompt"){j("content").text(i.string).css({minWidth:"300px"})}else{g=$("<input>").addClass("dialog-prompt-input").val(i.string?i.string:"");var d=$("<div>").append(g);j("content").append(d).css({minWidth:"300px"})}j().addClass("huadialog-show");j("title").text("title");if(i.type=="alert"){j("cancel").hide()}else{j("cancel").text(f.cancelValue)}j("ok").text(f.okValue).on("click",function(){if(typeof i.ok=="function"){i.ok(i.type=="prompt"?g.val():false)}if(typeof i.cancel=="function"){i.cancel()}e.remove();h!==undefined&&h.remove()});j("cancel").on("click",function(){if(typeof i.cancel=="function"){i.cancel()}e.remove();h!==undefined&&h.remove()});c();$(window).on("resize",function(){c()});e.find("[data-hua=dialog-close]").on("click",function(){e.remove();h!==undefined&&h.remove()})};b.create=function(e){var c,d;c=$("body");d=this;this.options=e;this.popupBox=$("<div>").css({position:"absolute","z-index":(this.options.zIndex||1024)+1}).html(e.innderHTML).appendTo(c);this.backDropBox=$("<div>").addClass("huadialog-backbox").css({"z-index":(this.options.zIndex||1024)}).appendTo(c);this.event={show:[],close:[],remove:[],okClick:[],cancelClick:[]};$.each(e,function(f,g){if(typeof d[f]==="function"){d[f](g)}});this._$("dialog-close").on("click",function(){d.close().remove()});this._$("dialog-ok").on("click",function(){if(d.triggerEvent("okClick")!==false){d.close().remove()}});this._$("dialog-cancel").on("click",function(){if(d.triggerEvent("cancelClick")!==false){d.close().remove()}});$(window).on("resize",function(){d.center()})};var a=b.create.prototype;$.extend(a,{show:function(){this.center();this.popupBox.show();if(this.options.locked){this.backDropBox.show()}this._$("dialog").addClass("huadialog-show");this.triggerEvent("show");return this},title:function(c){if(typeof c==="string"){this._$("dialog-title").text(c)}},content:function(c){if(typeof c==="string"){this._$("dialog-content").html(c)}if(typeof c==="object"){this._$("dialog-content").empty().append(c)}},width:function(c){this._$("dialog-content").width(c);return this},height:function(c){this._$("dialog-content").height(c);return this},statusbar:function(c){if(typeof c==="string"){this._$("dialog-status").html(c)}if(typeof c==="object"){this._$("dialog-status").empty().append(c)}},backdropBackground:function(c){this.backDropBox.css({background:c});return this},backdropOpacity:function(c){var d="alpha(opacity="+parseInt(c*100)+")";this.backDropBox.css({opacity:c,filter:d});return this},closeBtn:function(c){if(c){this._$("dialog-close").show()}else{this._$("dialog-close").hide()}return this},ok:function(c){this.addEventListener("okClick",c);return this},cancel:function(c){this.addEventListener("cancelClick",c);return this},okValue:function(c){if(typeof c==="string"){this._$("dialog-ok").text(c)}else{this._$("dialog-ok").text(b.defaultOptions.okValue)}return this},cancelValue:function(c){if(typeof c==="string"){this._$("dialog-cancel").text(c)}else{this._$("dialog-cancel").text(b.defaultOptions.cancelValue)}return this},_$:function(c){return this.popupBox.find("[data-hua="+c+"]")},close:function(){this.popupBox.hide();this.backDropBox.hide();this.triggerEvent("close");return this},remove:function(){this.popupBox.remove();this.backDropBox.remove();this.triggerEvent("remove");return this},center:function(){var d=($(window).height()-this.popupBox.height())/2;var c=($(window).width()-this.popupBox.width())/2;this.popupBox.css({top:d>0?d:0+"px",left:c>0?c:0+"px"});return this},addEventListener:function(c,d){if(this.event[c]&&$.isArray(this.event[c])){this.event[c].push(d)}},triggerEvent:function(c){var d;$.each(this.event[c],function(e,f){return d=f()});return d}});window.huadialog=b;return b}());